(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{375:function(a,s,t){"use strict";t.r(s);var e=t(3),l=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"云服务器内存不足咋办-添加虚拟内存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#云服务器内存不足咋办-添加虚拟内存"}},[a._v("#")]),a._v(" 云服务器内存不足咋办_ 添加虚拟内存")]),a._v(" "),s("h1",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言:")]),a._v(" "),s("p",[a._v("之前买了个腾讯云服务器,内存2G的,太小了 自己部着玩,来个mysql,来个jdk镜像…巴拉巴拉没部署几个服务就内存不足了..")]),a._v(" "),s("p",[a._v("所以考虑加点虚拟内存,反正也是自己用,影响的速度也没啥大问题 也不是只针对云服务器,毕竟都是linux操作")]),a._v(" "),s("h1",{attrs:{id:"创建swap文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建swap文件"}},[a._v("#")]),a._v(" 创建swap文件")]),a._v(" "),s("ol",[s("li",[a._v("进入/user目录创建swap文件夹")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /usrmkdir swapcd swap/\n")])])]),s("ol",[s("li",[a._v("创建swapfile文件 一般设置为实际内存的2倍")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("dd if=/dev/zero of=/usr/swap/swapfile bs=1M count=4096\n")])])]),s("h1",{attrs:{id:"查看swap文件-并设置为swap分区文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看swap文件-并设置为swap分区文件"}},[a._v("#")]),a._v(" 查看swap文件,并设置为swap分区文件")]),a._v(" "),s("ol",[s("li",[a._v("查看swap文件")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("du -sh /usr/swap/swapfile\n")])])]),s("ol",[s("li",[a._v("设置为swap分区文件")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mkswap /usr/swap/swapfile\n")])])]),s("ol",[s("li",[a._v("激活swap分区,并立即启用交换区文件")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("swapon /usr/swap/swapfile\n")])])]),s("p",[a._v("使用 free -m 命令确认内存中swap分区是否添加了")]),a._v(" "),s("ol",[s("li",[a._v("设置开机自动启用虚拟内存 使用 vim 编辑 /etc/fstab 文件添加")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("etc/fstab\n")])])]),s("ol",[s("li",[a._v("重启服务器 使用 reboot 重启服务器,再次通过 free -m 确认")])])])}),[],!1,null,null,null);s.default=l.exports}}]);