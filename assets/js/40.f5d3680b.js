(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{414:function(a,s,t){"use strict";t.r(s);var e=t(3),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mysql操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql操作"}},[a._v("#")]),a._v(" MySql操作")]),a._v(" "),s("h2",{attrs:{id:"系统操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统操作"}},[a._v("#")]),a._v(" 系统操作")]),a._v(" "),s("h3",{attrs:{id:"创建用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[a._v("#")]),a._v(" 创建用户")]),a._v(" "),s("p",[a._v("只允许指定ip连接")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("create user '新用户名'@'localhost' identified by '密码';\n")])])]),s("p",[a._v("//允许所有ip连接（用通配符%表示）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("create user '新用户名'@'%' identified by '密码';\n")])])]),s("h3",{attrs:{id:"授权-撤权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#授权-撤权"}},[a._v("#")]),a._v(" 授权，撤权")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("GRANT 权限 ON databasename.tablename TO 'username'@'host';\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("REVOKE 权限 ON databasename.tablename FROM 'username'@'host';\n")])])]),s("p",[a._v("全部权限就是ALL，全部库和表就是"),s("code",[a._v("*.*")])]),a._v(" "),s("h3",{attrs:{id:"更改用户密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改用户密码"}},[a._v("#")]),a._v(" 更改用户密码")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SET PASSWORD FOR 'username'@'host' = PASSWORD('newpassword');\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('//修改当前用户密码SET PASSWORD = PASSWORD("newpassword");\n')])])]),s("h3",{attrs:{id:"删除用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[a._v("#")]),a._v(" 删除用户")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DROP USER ‘username’@'host’;\n")])])]),s("h3",{attrs:{id:"修改用户连接ip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改用户连接ip"}},[a._v("#")]),a._v(" 修改用户连接ip")]),a._v(" "),s("p",[s("strong",[a._v("rant all privileges on "),s("em",[a._v(".")]),a._v(' to root@"%" identified by "密码";')])]),a._v(" "),s("p",[s("strong",[a._v("flush privileges;   刷新权限")])]),a._v(" "),s("h2",{attrs:{id:"sql操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql操作"}},[a._v("#")]),a._v(" sql操作")]),a._v(" "),s("h3",{attrs:{id:"获取时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取时间"}},[a._v("#")]),a._v(" 获取时间")]),a._v(" "),s("p",[s("code",[a._v("date_sub(now(),INTERVAL 2 day)")]),a._v(" 当前时间减去2天")]),a._v(" "),s("h3",{attrs:{id:"添加索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加索引"}},[a._v("#")]),a._v(" 添加索引")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("//添加普通索引alter table table_name add index index_name (column_list);\n")])])]),s("h3",{attrs:{id:"基本查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本查询"}},[a._v("#")]),a._v(" 基本查询")]),a._v(" "),s("p",[a._v("没有单独说明那就是mysql和oracle语法相同")]),a._v(" "),s("h3",{attrs:{id:"连接符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接符"}},[a._v("#")]),a._v(" 连接符")]),a._v(" "),s("p",[a._v("将另个字段的值进行拼接")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-- mysql写法: 使用 concatselect concat('host:',host,',user:',user) as host_user from db--oracle写法: 使用 ||select host||'拼接'||user as host_user from db\n")])])]),s("h3",{attrs:{id:"去重"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#去重"}},[a._v("#")]),a._v(" 去重")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DISTINCT\n")])])]),s("h3",{attrs:{id:"排序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排序"}},[a._v("#")]),a._v(" 排序")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("order bydesc --从大到小asc  --从小到大,默认--多字段进行排序时,优先按照第一个字段排序,然后依次按照其他字段排序\n")])])]),s("h3",{attrs:{id:"判断"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#判断"}},[a._v("#")]),a._v(" 判断")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("where\n")])])]),s("p",[a._v("查询附带的条件,在查询时使用, 所以 "),s("code",[a._v("order by")]),a._v(" 写在"),s("code",[a._v("where")]),a._v("之后")]),a._v(" "),s("p",[a._v("可使用的关键字:")]),a._v(" "),s("ol",[s("li",[a._v("and")]),a._v(" "),s("li",[a._v("or")]),a._v(" "),s("li",[a._v("in")]),a._v(" "),s("li",[a._v("like")]),a._v(" "),s("li",[a._v("is null 和 is not null")])]),a._v(" "),s("h3",{attrs:{id:"分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分组"}},[a._v("#")]),a._v(" 分组")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("group by\n")])])]),s("h3",{attrs:{id:"筛选"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#筛选"}},[a._v("#")]),a._v(" 筛选")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("having\n")])])]),s("p",[a._v("having函数用在分组函数之后, 是对分组后的结果集进一步筛选")]),a._v(" "),s("h3",{attrs:{id:"备份表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#备份表"}},[a._v("#")]),a._v(" 备份表")]),a._v(" "),s("p",[a._v("通过sql语句直接备份表")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("create table 表名 as 查询语句\n")])])]),s("h3",{attrs:{id:"多表查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多表查询"}},[a._v("#")]),a._v(" 多表查询")]),a._v(" "),s("p",[a._v("oracle 多的语法:")]),a._v(" "),s("p",[a._v("全外连接: full join")]),a._v(" "),s("p",[a._v("(+) : 这个不能和join一起用,只能出现在where子句中; 可以用在笛卡尔积的写法上 , 哪个表后面有(+)哪个作为主表")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Select * from t_A a,t_B b where a.id(+)=b.id;\n")])])]),s("h3",{attrs:{id:"集合运算"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集合运算"}},[a._v("#")]),a._v(" 集合运算")]),a._v(" "),s("h3",{attrs:{id:"合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并"}},[a._v("#")]),a._v(" 合并")]),a._v(" "),s("p",[a._v("union 合并两个数据集, 需要字段顺序相同, 会自动去重")]),a._v(" "),s("p",[a._v("union all 会合并全部, 不去重")]),a._v(" "),s("h3",{attrs:{id:"交集-差集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#交集-差集"}},[a._v("#")]),a._v(" 交集 差集")]),a._v(" "),s("p",[a._v("oracle写法")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("intersect    -- 在中进行取交集minus     --取差集\n")])])]),s("p",[a._v("mysql 写法")]),a._v(" "),s("p",[a._v("mysql中没有对应的方法, 不过可以使用union all 进行全合并后, 在group by 分组 使用having将分组内数量大于1的取出从而实现交集的效果")]),a._v(" "),s("p",[a._v("同理 差集 判断数量为1的即可")])])}),[],!1,null,null,null);s.default=r.exports}}]);