(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{377:function(t,v,p){t.exports=p.p+"assets/img/Untitled.a9280ab7.png"},378:function(t,v,p){t.exports=p.p+"assets/img/Untitled 1.8834f8d0.png"},379:function(t,v,p){t.exports=p.p+"assets/img/Untitled 2.1e93bea8.png"},460:function(t,v,p){"use strict";p.r(v);var _=p(3),i=Object(_.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"jvm调优和linux"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#jvm调优和linux"}},[t._v("#")]),t._v(" jvm调优和linux")]),t._v(" "),v("h3",{attrs:{id:"怎么排查生产服务器变慢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#怎么排查生产服务器变慢"}},[t._v("#")]),t._v(" 怎么排查生产服务器变慢")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("top")]),t._v(" "),v("p",[t._v("使用top命令看整机的情况")]),t._v(" "),v("p",[t._v("uptime   精简版系统性能")])]),t._v(" "),v("li",[v("p",[t._v("cpu")]),t._v(" "),v("p",[t._v("使用vmstat命令查看")]),t._v(" "),v("p",[t._v("其他命令:")]),t._v(" "),v("p",[t._v("查看所有核信息    mpstat -P ALL 2")]),t._v(" "),v("p",[t._v("每个进程使用cpu的用量分解信息    pidstat -u 1 -p 进程编号")]),t._v(" "),v("p",[t._v("例: vmstat -n 2 3   没两秒刷新一次,刷新三次")]),t._v(" "),v("p",[v("img",{attrs:{src:p(377),alt:"Untitled"}})])]),t._v(" "),v("li",[v("p",[t._v("内存")]),t._v(" "),v("p",[t._v("使用free -m 命令")]),t._v(" "),v("p",[t._v("其他命令  pidstat -p 进程号 -r 采样间隔秒数")])]),t._v(" "),v("li",[v("p",[t._v("硬盘")]),t._v(" "),v("p",[t._v("使用df -h命令")])]),t._v(" "),v("li",[v("p",[t._v("磁盘IO")]),t._v(" "),v("p",[t._v("使用iostat命令")]),t._v(" "),v("p",[t._v("其他命令  pidstat -d 采样间隔秒数 -p 进程号")]),t._v(" "),v("p",[t._v("例: iostat -xdk 2 3")]),t._v(" "),v("p",[v("img",{attrs:{src:p(378),alt:"Untitled"}})]),t._v(" "),v("p",[v("img",{attrs:{src:p(379),alt:"Untitled"}})])]),t._v(" "),v("li",[v("p",[t._v("网络IO")]),t._v(" "),v("p",[t._v("使用ifstat命令")]),t._v(" "),v("p",[t._v("默认本地没有 需要下载ifstat")]),t._v(" "),v("p",[t._v("例: ifstat 采样间隔秒数")])])]),t._v(" "),v("h3",{attrs:{id:"如果生产出现cpu占用过高-怎么分析和解决"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#如果生产出现cpu占用过高-怎么分析和解决"}},[t._v("#")]),t._v(" 如果生产出现cpu占用过高, 怎么分析和解决")]),t._v(" "),v("p",[t._v("结合linux和jdk命令一起分析")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("使用top命令找出占用cpu高的 pid")])]),t._v(" "),v("li",[v("p",[t._v("ps -ef或者jps进一步定位, 得知是什么后台程序")])]),t._v(" "),v("li",[v("p",[t._v("定位具体的线程或者代码")]),t._v(" "),v("p",[t._v("ps -mp 进程 -o THREAD,tid,time")]),t._v(" "),v("p",[t._v("-m : 显示所有的线程")]),t._v(" "),v("p",[t._v("-p : pid进程使用cpu的时间")]),t._v(" "),v("p",[t._v("-o : 改参数后是用户自定义格式")])]),t._v(" "),v("li",[v("p",[t._v("将需要的线程id转换为16进制")]),t._v(" "),v("p",[t._v('printf "%x\\n” 线程id')])]),t._v(" "),v("li",[v("p",[t._v("jstack 进程id | grep tid(16进制线程id) -A60    //打印前60行")])])])])}),[],!1,null,null,null);v.default=i.exports}}]);